<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="/">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/dashboard_style.css">
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->

    <title>Admin Wallet</title>
    <style>
        .btnn {
            border: 1px solid #b1a7e6;
            border-radius: 30px;
            padding: 15px 30px;
            background-color: #aba0e9;
            color: #4b4276;
            text-decoration: none;
            transition: 0.6s ease;
        }

        .btnn:hover {
            background-color: white;
            color: #696386;
        }

        .design {
            padding-left: 30px;

        }

        input {
            width: 30%;
            background: none;
            border: 1px solid #4b4276;
            border-radius: 20px;
            padding: 15px 10px;
            box-sizing: border-box;
            margin-bottom: 20px;
            color: #4b4276;
            transition: 4s;
        }

        table {
            border: 2px solid;
            padding: 5px 5px;
            width: 100%;
            color: #4b4276;
        }

        th {
            text-align: center;
            border: 2px solid;
            padding: 10px 25px;
            width: 100%;
            color: #4b4276;
        }

        .operation {
            width: 70%;
        }

        .trr tr,
        td {
            border: 2px solid;
            padding: 10px 25px;
            color: #4b4276;
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div class="sidebar">
            <h2>Permission</h2>
            <ul>
                <li><a href="http://localhost:8080/admin_home"><i class="fa fa-home"></i>Home</a></li>
                <li><a href="http://localhost:8080/area_of_interest"><i class="fa fa-address-book-o"></i>Area of
                        Interest </a>
                <li><a href="http://localhost:8080/admin_view"><i class="fa fa-address-card-o"></i>User Record</a>
                </li>
                <li><a href="http://localhost:8080/admin_add_user"><i class="fa fa-address-book-o"></i>Add User </a>
                </li>
                <li><a href="http://localhost:8080/admin_wallet"><i class="fa fa-bank"></i>Wallet </a>
                </li>
                <li><a href="http://localhost:8080/logout"><i class="fa fa-sign-out"></i>Logout </a></li>

            </ul>
        </div>
    </div>
    <div class="style">
        <div class="container">
            <% if(msg.length>0){%>
                <div class="<%=err_msg%>">
                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    <%= msg%>
                </div>
                <% }%>
                    <div class="wallet-container text-center">
                        <p style="font-size: 20px; color: #4b4276;">E- Wallet</p>
                        <div class="img">
                            <img src="https://cdn-icons-png.flaticon.com/64/2169/2169853.png"> <b>
                        </div><br>
                        <div class="balance">
                            <span style="font-size: 16px; color: #4b4276;">Account Number</span><br>
                            <span style="font-size: 28px; color: #6e6a81;">
                                <%=account_number%>
                            </span>
                        </div><br>
                        <div class="balance">
                            <span style="font-size: 16px; color: #4b4276;">Total Balance</span><br>
                            <span style="font-size: 28px; color: #6e6a81;">Pkr <%=account%></span>
                        </div><br>
                        <div id="newElementId"></div>
                        <p id="demo"></p>
                    </div><br>
                    <nav>
                        <div class="nav nav-tabs" id="nav-tab" role="tablist">
                            <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home"
                                aria-selected="true">Users
                                Account</button>
                            <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile"
                                aria-selected="false">Admin
                                Transactions</button>
                        </div>
                    </nav>
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-home" role="tabpanel"
                            aria-labelledby="nav-home-tab"><br>
                            <span style="font-size: 16px; color: #4b4276;">Users Accounts</span><br>
                            <table border="2">

                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Account Number</th>
                                        <th>Balance</th>
                                        <th>Outgoing Transactions</th>
                                        <th>Incoming Transactions</th>
                                        <th colspan="2" class="operation">Operations</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <div class="trr">
                                        <% for(var i=0; i<docs.length; i++){ %>
                                            <tr>
                                                <td>
                                                    <%= docs[i].account.name %>
                                                </td>
                                                <td>
                                                    <%= docs[i].account.cnic %>
                                                </td>
                                                <td>
                                                    <%= docs[i].Total_Balance %>
                                                </td>
                                                <td>
                                                    <%= docs[i].Trip_Transactions.length %>
                                                </td>
                                                <td>
                                                    <%= docs[i].Recharge_Transactions.length %>
                                                </td>
                                                <td>
                                                    <a href="/Transaction_view/<%= docs[i]._id %> "
                                                        class="btn fa fa-eye" style="font-size:16px"> View
                                                        Transactions</a>
                                                    <a href="/recharge_wallet/<%= docs[i]._id %>"
                                                        class="btn fa fa-cc-mastercard" style="font-size:16px"> Recharge
                                                        Account</a>
                                                </td>
                                            </tr>
                                            <% } %>
                                    </div>

                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                            <span style="font-size: 16px; color: #4b4276;">Users Accounts</span><br>
                            <table border="2">

                                <thead>
                                    <tr>
                                        <th>Reciever Name</th>
                                        <th> Reciever Account#</th>
                                        <th>Amount</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <div class="trr">
                                        <% for(var i=0; i<data.length; i++){ %>
                                            <% for(var j=0; j<data[i].Transactions.length; j++) {%>
                                                <tr>
                                                    <td>
                                                        <%- data[i].Transactions[j].reciever_name %>
                                                    </td>
                                                    <td>
                                                        <%- data[i].Transactions[j].reciever_account %>
                                                    </td>
                                                    <td>
                                                        <%- data[i].Transactions[j].amount %>
                                                    </td>
                                                    <td>
                                                        <%- data[i].Transactions[j].date %>
                                                    </td>
                                                    <td>
                                                        <%- data[i].Transactions[j].time %>
                                                    </td>
                                                </tr>
                                                <% }} %>
                                    </div>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <br>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>